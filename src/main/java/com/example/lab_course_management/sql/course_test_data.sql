-- ====================================================
-- 课程测试数据 SQL
-- 执行前请确保已执行 create.sql 和基础用户数据
-- ====================================================

-- ==========================================
-- 插入课程测试数据
-- ==========================================
INSERT INTO `course` (
    `course_name`,
    `teacher_id`,
    `semester`,
    `description`,
    `credit`,
    `max_students`,
    `status`,
    `create_time`,
    `update_time`
) VALUES
-- 数据结构与算法课程 (教师: 王老师, ID=2)
('数据结构与算法', 2, '2025-Spring', '本课程主要讲授数据结构的基本概念和算法设计方法，包括线性表、栈、队列、树、图等基本数据结构，以及查找和排序算法。', 4, 60, 1, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),

-- 计算机网络课程 (教师: 王老师, ID=2)
('计算机网络', 2, '2025-Spring', '本课程介绍计算机网络的基本概念、体系结构、协议原理，重点讲解TCP/IP协议族、网络应用协议等内容。', 3, 50, 1, '2025-01-01 10:00:00', '2025-01-01 10:00:00'),

-- 操作系统课程 (教师: 王老师, ID=2)
('操作系统', 2, '2025-Spring', '本课程讲授操作系统的基本原理和设计方法，包括进程管理、内存管理、文件系统、设备管理等核心内容。', 4, 45, 1, '2025-01-01 11:00:00', '2025-01-01 11:00:00'),

-- 数据库系统课程 (教师: 王老师, ID=2)
('数据库系统原理', 2, '2025-Spring', '本课程介绍数据库系统的基本概念、关系模型、SQL语言、数据库设计、事务管理、并发控制等内容。', 3, 55, 1, '2025-01-01 12:00:00', '2025-01-01 12:00:00'),

-- 软件工程课程 (教师: 王老师, ID=2)
('软件工程', 2, '2025-Spring', '本课程讲授软件工程的基本概念、开发方法、项目管理、软件测试、软件维护等内容，培养学生的软件开发能力。', 3, 40, 1, '2025-01-01 13:00:00', '2025-01-01 13:00:00'),

-- 算法设计与分析课程 (教师: 王老师, ID=2)
('算法设计与分析', 2, '2025-Spring', '本课程主要讲授算法设计与分析的基本方法，包括分治法、动态规划、贪心法、回溯法等算法设计策略。', 3, 35, 0, '2025-01-01 14:00:00', '2025-01-01 14:00:00'),

-- 编译原理课程 (教师: 王老师, ID=2)
('编译原理', 2, '2025-Spring', '本课程介绍编译器的设计与实现原理，包括词法分析、语法分析、语义分析、代码生成和优化等编译过程的各个阶段。', 3, 30, 0, '2025-01-01 15:00:00', '2025-01-01 15:00:00'),

-- 人工智能导论课程 (教师: 王老师, ID=2)
('人工智能导论', 2, '2025-Spring', '本课程介绍人工智能的基本概念、发展历史、主要技术分支，包括搜索策略、知识表示、推理方法、机器学习基础等内容。', 3, 50, 1, '2025-01-01 16:00:00', '2025-01-01 16:00:00');

-- ==========================================
-- 插入实验室测试数据
-- ==========================================
INSERT INTO `laboratory` (
    `lab_name`,
    `location`,
    `capacity`,
    `manager_id`,
    `description`,
    `status`,
    `create_time`,
    `update_time`
) VALUES
-- 计算机实验室
('计算机实验室1', '理工楼301', 40, 1, '配备40台高性能计算机，安装主流编程环境和开发工具', 0, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),

('计算机实验室2', '理工楼302', 40, 1, '配备40台高性能计算机，安装主流编程环境和开发工具', 0, '2025-01-01 10:00:00', '2025-01-01 10:00:00'),

('计算机实验室3', '理工楼303', 35, 1, '配备35台高性能计算机，主要用于数据库和软件工程实验', 0, '2025-01-01 11:00:00', '2025-01-01 11:00:00'),

-- 专业实验室
('网络实验室', '理工楼401', 30, 1, '网络设备实验室，配备路由器、交换机等网络设备', 0, '2025-01-01 12:00:00', '2025-01-01 12:00:00'),

('操作系统实验室', '理工楼402', 30, 1, '操作系统和系统软件实验专用实验室', 0, '2025-01-01 13:00:00', '2025-01-01 13:00:00'),

('人工智能实验室', '理工楼501', 25, 1, 'AI专用实验室，配备GPU服务器和深度学习平台', 1, '2025-01-01 14:00:00', '2025-01-01 14:00:00');

-- ==========================================
-- 插入时间段测试数据
-- ==========================================
INSERT INTO `class_time_slot` (
    `slot_name`,
    `start_time`,
    `end_time`,
    `create_time`,
    `update_time`
) VALUES
('第1-2节', '08:00:00', '09:40:00', '2025-01-01 09:00:00', '2025-01-01 09:00:00'),
('第3-4节', '10:00:00', '11:40:00', '2025-01-01 09:00:00', '2025-01-01 09:00:00'),
('第5-6节', '14:00:00', '15:40:00', '2025-01-01 09:00:00', '2025-01-01 09:00:00'),
('第7-8节', '16:00:00', '17:40:00', '2025-01-01 09:00:00', '2025-01-01 09:00:00'),
('第9-10节', '19:00:00', '20:40:00', '2025-01-01 09:00:00', '2025-01-01 09:00:00');

-- ==========================================
-- 插入实验课程排课数据
-- ==========================================
INSERT INTO `lab_course` (
    `course_id`,
    `lab_id`,
    `teacher_id`,
    `slot_id`,
    `start_week`,
    `end_week`,
    `day_of_week`,
    `create_time`,
    `update_time`
) VALUES
-- 数据结构与算法实验课
(1, 1, 2, 1, 1, 16, 2, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周二第1-2节
(1, 1, 2, 3, 1, 16, 4, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周四第5-6节

-- 计算机网络实验课
(2, 4, 2, 2, 1, 16, 3, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周三第3-4节
(2, 4, 2, 4, 1, 16, 5, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周五第7-8节

-- 操作系统实验课
(3, 5, 2, 3, 1, 16, 2, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周二第5-6节
(3, 5, 2, 4, 1, 16, 4, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周四第7-8节

-- 数据库系统实验课
(4, 3, 2, 2, 1, 16, 1, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周一第3-4节
(4, 3, 2, 4, 1, 16, 3, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周三第7-8节

-- 软件工程实验课
(5, 2, 2, 3, 1, 16, 5, '2025-01-01 09:00:00', '2025-01-01 09:00:00'),  -- 周五第5-6节

-- 人工智能导论实验课
(8, 6, 2, 5, 1, 16, 2, '2025-01-01 09:00:00', '2025-01-01 09:00:00'); -- 周二第9-10节

-- ==========================================
-- 插入学生选课测试数据
-- ==========================================
INSERT INTO `student_course` (
    `course_id`,
    `student_id`,
    `usual_grade`,
    `final_grade`,
    `grade`,
    `create_time`,
    `update_time`
) VALUES
-- 张同学(ID=3)选课情况
(1, 3, NULL, NULL, NULL, '2025-01-15 09:00:00', '2025-01-15 09:00:00'),  -- 数据结构与算法
(2, 3, NULL, NULL, NULL, '2025-01-15 09:05:00', '2025-01-15 09:05:00'),  -- 计算机网络
(4, 3, NULL, NULL, NULL, '2025-01-15 09:10:00', '2025-01-15 09:10:00');  -- 数据库系统原理

-- ==========================================
-- 查询验证数据
-- ==========================================
-- 查询所有课程
-- SELECT c.course_id, c.course_name, u.real_name as teacher_name, c.semester, c.credit, c.status
-- FROM course c
-- LEFT JOIN user u ON c.teacher_id = u.user_id
-- WHERE c.is_delete = 0;

-- 查询课程详情（包含实验安排）
-- SELECT c.course_name, u.real_name as teacher_name, l.lab_name, s.slot_name,
--        lc.day_of_week, lc.start_week, lc.end_week
-- FROM course c
-- LEFT JOIN user u ON c.teacher_id = u.user_id
-- LEFT JOIN lab_course lc ON c.course_id = lc.course_id
-- LEFT JOIN laboratory l ON lc.lab_id = l.lab_id
-- LEFT JOIN class_time_slot s ON lc.slot_id = s.slot_id
-- WHERE c.course_id = 1 AND c.is_delete = 0;

-- 查询学生选课情况
-- SELECT sc.course_id, c.course_name, sc.student_id, u.real_name as student_name
-- FROM student_course sc
-- LEFT JOIN course c ON sc.course_id = c.course_id
-- LEFT JOIN user u ON sc.student_id = u.user_id
-- WHERE sc.student_id = 3;